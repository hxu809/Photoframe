<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互动相框 - Interactive Photoframe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: 'Arial', sans-serif;
            overflow: hidden;
        }

        .container {
            position: relative;
            width: 1920px;
            height: 1080px;
            transform: scale(0.8);
        }

        /* 画作容器 - 在相框背后 */
        .artwork-container {
            position: absolute;
            left: 663px;
            top: 186px;
            width: 950px;
            height: 724px;
            overflow: hidden;
            z-index: 1;
            background: #f5f5f5;
        }

        /* 滚筒滚动区域 */
        .artwork-scroll {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s cubic-bezier(0.65, 0, 0.35, 1);
        }

        /* 单个画作 */
        .artwork {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
        }

        .artwork img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* 相框 - 覆盖在画作上方 */
        #photoframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
            pointer-events: none;
        }

        .indicator {
            position: absolute;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 3;
        }

        .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            cursor: pointer;
            transition: all 0.3s ease;
            pointer-events: auto;
        }

        .dot.active {
            background: #CFA850;
            transform: scale(1.3);
            box-shadow: 0 0 10px rgba(207, 168, 80, 0.6);
        }

        .title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 28px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            z-index: 3;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .title.show {
            opacity: 1;
        }

        .instruction {
            position: absolute;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            color: white;
            font-size: 16px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            z-index: 3;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        @media screen and (max-width: 1920px) {
            .container {
                transform: scale(0.6);
            }
        }

        @media screen and (max-width: 1280px) {
            .container {
                transform: scale(0.4);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 画作容器 - 必须在相框之前渲染，这样相框才能覆盖在上面 -->
        <div class="artwork-container">
            <div class="artwork-scroll" id="artworkScroll">
                <div class="artwork" data-index="0" style="top: 0;">
                    <img src="Guohua.svg" alt="国画">
                </div>
                <div class="artwork" data-index="1" style="top: 724px;">
                    <img src="Starrysky.svg" alt="星空">
                </div>
                <div class="artwork" data-index="2" style="top: 1448px;">
                    <img src="Ukiyoe.svg" alt="浮世绘">
                </div>
            </div>
        </div>

        <!-- 相框 SVG - 覆盖在画作上方 -->
        <object id="photoframe" data="Photoframe.svg" type="image/svg+xml"></object>

        <!-- 标题 -->
        <div class="title" id="artworkTitle">国画</div>

        <!-- 指示器 -->
        <div class="indicator">
            <div class="dot active" data-index="0"></div>
            <div class="dot" data-index="1"></div>
            <div class="dot" data-index="2"></div>
        </div>

        <!-- 操作提示 -->
        <div class="instruction">↕ 滚动鼠标滚轮切换画作</div>
    </div>

    <script>
        // 画作数据
        const artworks = [
            { name: '国画', index: 0 },
            { name: '星空', index: 1 },
            { name: '浮世绘', index: 2 }
        ];

        let currentIndex = 0;
        let isScrolling = false;
        const ARTWORK_HEIGHT = 724; // 画作高度

        // 获取元素
        const artworkScroll = document.getElementById('artworkScroll');
        const dots = document.querySelectorAll('.dot');
        const title = document.getElementById('artworkTitle');

        // 滚筒滚动到指定画作
        function scrollToArtwork(index) {
            if (index === currentIndex || isScrolling) return;

            // 防抖控制
            isScrolling = true;

            // 计算滚动位置（向上移动为负值）
            const scrollY = -index * ARTWORK_HEIGHT;
            artworkScroll.style.transform = `translateY(${scrollY}px)`;

            // 更新指示器
            dots[currentIndex].classList.remove('active');
            dots[index].classList.add('active');

            // 更新当前索引
            currentIndex = index;

            // 更新标题
            title.textContent = artworks[currentIndex].name;
            title.classList.add('show');

            // 隐藏标题
            setTimeout(() => {
                title.classList.remove('show');
            }, 2000);

            // 解除防抖（与CSS transition时间匹配）
            setTimeout(() => {
                isScrolling = false;
            }, 800);
        }

        // 滚轮事件监听
        document.addEventListener('wheel', (e) => {
            e.preventDefault();

            if (isScrolling) return;

            if (e.deltaY > 0) {
                // 向下滚动 - 下一张（画作向上移动）
                const nextIndex = (currentIndex + 1) % artworks.length;
                scrollToArtwork(nextIndex);
            } else {
                // 向上滚动 - 上一张（画作向下移动）
                const prevIndex = (currentIndex - 1 + artworks.length) % artworks.length;
                scrollToArtwork(prevIndex);
            }
        }, { passive: false });

        // 点击指示器切换
        dots.forEach(dot => {
            dot.addEventListener('click', () => {
                const index = parseInt(dot.getAttribute('data-index'));
                scrollToArtwork(index);
            });
        });

        // 键盘事件监听
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowDown' || e.key === 'ArrowRight') {
                const nextIndex = (currentIndex + 1) % artworks.length;
                scrollToArtwork(nextIndex);
            } else if (e.key === 'ArrowUp' || e.key === 'ArrowLeft') {
                const prevIndex = (currentIndex - 1 + artworks.length) % artworks.length;
                scrollToArtwork(prevIndex);
            }
        });

        // 初始化显示第一个标题
        setTimeout(() => {
            title.classList.add('show');
            setTimeout(() => {
                title.classList.remove('show');
            }, 2000);
        }, 500);
    </script>
</body>
</html>
